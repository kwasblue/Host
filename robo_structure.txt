================================================================================
ğŸ“‚ PROJECT STRUCTURE
Generated: 2026-01-24 21:42:01
Total Files: 68
================================================================================

ğŸ“„ boot_strap_structure.py
   âš™ï¸  def ensure_dir(self, path)
   âš™ï¸  def ensure_init(self, path)
   âš™ï¸  def write_if_missing(self, path, content)
   âš™ï¸  def main()

ğŸ“„ file_directory_listing.py
   âš™ï¸  def list_all_files(self, root_path)
   âš™ï¸  def list_all_directories_excluding_venv(self, root_path)

ğŸ“„ reorg.py
   âš™ï¸  def ensure_dir(self, path)
   âš™ï¸  def move_if_exists(self, src, dst)
   âš™ï¸  def touch_init(self, path)
   âš™ï¸  def remove_pycache(self, root)
   âš™ï¸  def main()

ğŸ“„ robot_host/config/client_commands.py
   ğŸ§± class RobotCommandsMixin
      (no methods)

ğŸ“„ robot_host/core/camera_client.py
   ğŸ§± class Esp32CamClient
      â”œâ”€â”€ def __init__(self, base_url, timeout)
      â”œâ”€â”€ def _fetch_raw_bgr(self)
      â”œâ”€â”€ def get_frame(self, resize_to, blur_ksize)
      â”œâ”€â”€ def get_frame_for_ml(self, target_size, normalize, to_chw)
      â”œâ”€â”€ def get_dual_frame(self, display_size, ml_size, blur_ksize, normalize, to_chw)
      â”œâ”€â”€ def iter_frames(self, delay)
      â””â”€â”€ def test_preview(self, window_name, delay)

ğŸ“„ robot_host/core/client.py
   ğŸ§± class HasSendBytes
      â”œâ”€â”€ def set_frame_handler(self, handler)
      â”œâ”€â”€ def start(self)
      â””â”€â”€ def stop(self)
   ğŸ§± class BaseAsyncRobotClient
      â”œâ”€â”€ def __init__(self, transport, bus)
      â”œâ”€â”€ def _on_frame(self, body)
      â”œâ”€â”€ def _handle_json_payload(self, payload)
      â””â”€â”€ def _next_seq(self)
   ğŸ§± class AsyncRobotClient
      (no methods)

ğŸ“„ robot_host/core/event_bus.py
   ğŸ§± class EventBus
      â”œâ”€â”€ def __init__(self)
      â”œâ”€â”€ def subscribe(self, topic, handler)
      â””â”€â”€ def publish(self, topic, data)

ğŸ“„ robot_host/core/messages.py
   ğŸ§± class MsgType
      (no methods)

ğŸ“„ robot_host/core/ml_preprocess.py
   âš™ï¸  def preprocess_for_ml(self, frame_bgr, target_size, normalize, to_chw)

ğŸ“„ robot_host/core/protocol.py
   âš™ï¸  def encode(self, msg_type, payload)
   âš™ï¸  def extract_frames(self, buffer, on_frame)

ğŸ“„ robot_host/core/robot_runtime.py
   ğŸ§± class BaseRobotRuntime
      (no methods)

ğŸ“„ robot_host/core/settings.py
   ğŸ§± class TransportSettings
      (no methods)
   ğŸ§± class FeatureSettings
      (no methods)
   ğŸ§± class EncoderDefaults
      (no methods)
   ğŸ§± class HostSettings
      â””â”€â”€ def load(self, cls, profile)

ğŸ“„ robot_host/modules/camera_module.py
   ğŸ§± class CameraModule
      â”œâ”€â”€ def __init__(self, base_url, name, display_size, ml_size, blur_ksize, fps, show_preview, frame_callback)
      â”œâ”€â”€ def start(self)
      â”œâ”€â”€ def stop(self)
      â”œâ”€â”€ def run_foreground(self)
      â”œâ”€â”€ def _window_name(self)
      â””â”€â”€ def _run_loop(self)

ğŸ“„ robot_host/modules/encoder.py
   ğŸ§± class EncoderDefaults
      (no methods)
   ğŸ§± class EncoderHostModule
      â””â”€â”€ def __init__(self, bus, client, defaults)

ğŸ“„ robot_host/modules/gpio.py
   ğŸ§± class GpioHostModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/imu.py
   ğŸ§± class ImuState
      (no methods)
   ğŸ§± class ImuHostModule
      â”œâ”€â”€ def __init__(self, bus)
      â”œâ”€â”€ def set_biases(self, accel_bias, gyro_bias)
      â””â”€â”€ def _on_imu_raw(self, msg)

ğŸ“„ robot_host/modules/inverse_kin_example.py
   ğŸ§± class JointConfig
      (no methods)
   ğŸ§± class LinkConfig
      (no methods)
   ğŸ§± class ArmSettings
      (no methods)
   ğŸ§± class ArmKinematics
      â”œâ”€â”€ def __init__(self, cfg)
      â”œâ”€â”€ def _clamp(self, joint, angle_deg)
      â””â”€â”€ def ik_planar(self, x, y, elbow_up)
   ğŸ§± class ArmIKModule
      â”œâ”€â”€ def __init__(self, bus, client, settings)
      â”œâ”€â”€ def start(self)
      â”œâ”€â”€ def stop(self)
      â”œâ”€â”€ def on_home(self, event)
      â”œâ”€â”€ def on_move_joints(self, event)
      â”œâ”€â”€ def on_move_cartesian(self, event)
      â”œâ”€â”€ def _home(self)
      â”œâ”€â”€ def _move_joint_deg(self, joint, angle_deg)
      â”œâ”€â”€ def _send_servo_move(self, channel, angle_deg)
      â””â”€â”€ def _send_stepper_move_abs(self, joint, angle_deg)

ğŸ“„ robot_host/modules/logging_ctl.py
   ğŸ§± class LoggingControlModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/modes.py
   ğŸ§± class ModeHostModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/motion.py
   ğŸ§± class MotionHostModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/object_detection.py
   ğŸ§± class Detection
      (no methods)
   ğŸ§± class DetectionModule
      â”œâ”€â”€ def __init__(self, model, decode_fn, ml_size, class_names, score_thresh, use_torch, device, show_window, window_name, publish_fn)
      â””â”€â”€ def handle_frame(self, display_frame, ml_frame, ts)

ğŸ“„ robot_host/modules/pill_test.py
   ğŸ§± class PillCarouselConfig
      (no methods)
   ğŸ§± class PillCarousel
      â”œâ”€â”€ def __init__(self, client, config)
      â””â”€â”€ def set_current_slot(self, slot_index)

ğŸ“„ robot_host/modules/pwm.py
   ğŸ§± class PwmHostModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/servo.py
   ğŸ§± class ServoHostModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/stepper.py
   ğŸ§± class StepperHostModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/telemetry_ctl.py
   ğŸ§± class TelemetryControlModule
      â””â”€â”€ def __init__(self, bus, client)

ğŸ“„ robot_host/modules/ultrasonic.py
   ğŸ§± class UltrasonicDefaults
      (no methods)
   ğŸ§± class UltrasonicHostModule
      â”œâ”€â”€ def __init__(self, bus, client, defaults, auto_subscribe)
      â””â”€â”€ def _on_telemetry_raw(self, msg)

ğŸ“„ robot_host/modules/yolo_decode.py
   âš™ï¸  def decode_yolo_output(self, raw, display_shape, ml_size)

ğŸ“„ robot_host/modules/yolo_detect.py
   ğŸ§± class YoloWrapper
      â”œâ”€â”€ def __init__(self, weights)
      â””â”€â”€ def __call__(self, x)

ğŸ“„ robot_host/runners/bluetooth_shell.py
   âš™ï¸  def _print_event(self, tag)
   âš™ï¸  def _handler(self, data)
   âš™ï¸  def _print_ultra(self, ultra)
   âš™ï¸  def _print_imu(self, imu)

ğŸ“„ robot_host/runners/dc_latency_tst.py
   ğŸ§± class DcAckWaiter
      â”œâ”€â”€ def __init__(self, bus)
      â””â”€â”€ def _on_ack(self, msg)

ğŸ“„ robot_host/runners/interactive_shell.py
   âš™ï¸  def _print_event(self, tag)
   âš™ï¸  def _handler(self, data)
   âš™ï¸  def _print_ultra(self, ultra)
   âš™ï¸  def _print_imu(self, imu)

ğŸ“„ robot_host/runners/latency_tst.py
   ğŸ§± class PingLatencyMeasurer
      â”œâ”€â”€ def __init__(self, bus, client)
      â””â”€â”€ def _on_pong(self, msg)

ğŸ“„ robot_host/runners/led_latency_tst.py
   âš™ï¸  def on_led_ack(self, msg)

ğŸ“„ robot_host/runners/pid_sweep_tst.py
   âš™ï¸  def make_ack_waiter(self, topic)
   âš™ï¸  def _cb(self, msg)

ğŸ“„ robot_host/runners/pid_tst.py
   âš™ï¸  def on_dc_ack(self, msg)

ğŸ“„ robot_host/runners/pill_carousel.py
   ğŸ§± class SerialTransport
      â”œâ”€â”€ def __init__(self, port, baudrate)
      â”œâ”€â”€ def _open(self)
      â”œâ”€â”€ def _close(self)
      â”œâ”€â”€ def _read_raw(self, n)
      â””â”€â”€ def _send_bytes(self, data)
   âš™ï¸  def main()

ğŸ“„ robot_host/runners/pill_gui.py
   ğŸ§± class SerialTransport
      â”œâ”€â”€ def __init__(self, port, baudrate)
      â”œâ”€â”€ def _open(self)
      â”œâ”€â”€ def _close(self)
      â”œâ”€â”€ def _read_raw(self, n)
      â””â”€â”€ def _send_bytes(self, data)
   ğŸ§± class RobotController
      â”œâ”€â”€ def __init__(self, log_fn)
      â””â”€â”€ def _log(self, msg)
   ğŸ§± class GuiSignals
      â””â”€â”€ def __init__(self, parent)
   ğŸ§± class PillDispenserWindow
      â”œâ”€â”€ def __init__(self)
      â”œâ”€â”€ def _build_tabs(self, log_container)
      â”œâ”€â”€ def _log_from_controller(self, msg)
      â”œâ”€â”€ def _append_log(self, msg)
      â”œâ”€â”€ def _set_status(self, text)
      â”œâ”€â”€ def _on_connect_done(self, fut)
      â”œâ”€â”€ def _update_next_slot_label(self)
      â”œâ”€â”€ def on_dispense_clicked(self)
      â”œâ”€â”€ def on_manual_goto(self)
      â”œâ”€â”€ def on_manual_next(self)
      â”œâ”€â”€ def on_manual_prev(self)
      â”œâ”€â”€ def on_manual_full_rev(self)
      â”œâ”€â”€ def on_manual_recalibrate(self)
      â”œâ”€â”€ def on_schedule_clicked(self)
      â””â”€â”€ def closeEvent(self, event)
   âš™ï¸  def done_callback(self, f)
   âš™ï¸  def done_callback(self, f)
   âš™ï¸  def _fire()
   âš™ï¸  def done_callback(self, f)
   âš™ï¸  def main()

ğŸ“„ robot_host/runners/run_camera.py
   ğŸ§± class DummyModel
      â””â”€â”€ def __call__(self, x)
   âš™ï¸  def frame_callback(self, display_frame, ml_frame, ts)
   âš™ï¸  def main()

ğŸ“„ robot_host/runners/run_camera_boxes.py
   ğŸ§± class DummyModel
      â””â”€â”€ def __call__(self, x)
   âš™ï¸  def simple_decode_fn(self, raw, display_shape, ml_size)
   âš™ï¸  def main()

ğŸ“„ robot_host/runners/run_detection.py
   âš™ï¸  def main()

ğŸ“„ robot_host/runners/serial_interactive_shell.py
   âš™ï¸  def _print_event(self, tag)
   âš™ï¸  def _handler(self, data)

ğŸ“„ robot_host/runners/stepper_tst.py
   ğŸ§± class SerialTransport
      â”œâ”€â”€ def __init__(self, port, baudrate)
      â”œâ”€â”€ def _open(self)
      â”œâ”€â”€ def _close(self)
      â”œâ”€â”€ def _read_raw(self, n)
      â””â”€â”€ def _send_bytes(self, data)
   âš™ï¸  def main()

ğŸ“„ robot_host/runners/telemetry_shell.py
   âš™ï¸  def attach_telemetry_prints(self, bus)
   âš™ï¸  def _get(self, obj, attr, default)
   âš™ï¸  def on_imu(self, imu)
   âš™ï¸  def on_ultra(self, ultra)
   âš™ï¸  def on_lidar(self, lidar)
   âš™ï¸  def on_stepper(self, step)
   âš™ï¸  def on_dc(self, dc)

ğŸ“„ robot_host/scratch/lunenburg_observer.py
   âš™ï¸  def get_system_matrices()
   âš™ï¸  def quantize(self, y, step)
   âš™ï¸  def simulate_observer(self, mode, dt, t_final, quant_step, alpha_pos_filt, pulse_amp)
   âš™ï¸  def plot_results(self, res, title_suffix)

ğŸ“„ robot_host/scratch/pid_tsts.py
   âš™ï¸  def send_cmd(self, ser, cmd, delay)
   âš™ï¸  def make_pid_label(self, cfg)
   âš™ï¸  def fmt(self, x)
   âš™ï¸  def reset_pid_to_zero(self, ser)
   âš™ï¸  def collect_log_for_pid(self, ser, cfg, duration)

ğŸ“„ robot_host/scratch/plot_pid.py
   âš™ï¸  def _parse_pid_from_filename(self, stem)
   âš™ï¸  def decode(self, v)
   âš™ï¸  def load_time_vel(self, path)
   âš™ï¸  def get_pid_params(self, path)
   âš™ï¸  def choose_files()
   âš™ï¸  def plot_pid_logs(self, files)

ğŸ“„ robot_host/scratch/plot_tst.py
   âš™ï¸  def collect_log()
   âš™ï¸  def plot_log()

ğŸ“„ robot_host/scratch/plot_tst2.py
   âš™ï¸  def send_cmd(self, ser, cmd, delay)
   âš™ï¸  def collect_log_for_pwm(self, ser, pwm_value, duration)
   âš™ï¸  def plot_log(self, log_path)

ğŸ“„ robot_host/scratch/plot_vels.py
   âš™ï¸  def load_time_vel(self, path, normalize_time)
   âš™ï¸  def plot_all_pwm_logs()

ğŸ“„ robot_host/scratch/sweep_tst.py
   âš™ï¸  def parse_kv_line(self, line)
   âš™ï¸  def send_and_read_line(self, ser, cmd, timeout)
   âš™ï¸  def send_cmd(self, ser, cmd)
   âš™ï¸  def set_mode(self, ser, mode)
   âš™ï¸  def set_sweep_freq(self, ser, freq_hz)
   âš™ï¸  def main()

ğŸ“„ robot_host/scratch/test.py
   âš™ï¸  def on_pong(self, data)
   âš™ï¸  def on_json(self, data)

ğŸ“„ robot_host/telemetry/file_logger.py
   ğŸ§± class TelemetryFileLogger
      â”œâ”€â”€ def __init__(self, bus, log_dir)
      â”œâ”€â”€ def start(self)
      â”œâ”€â”€ def stop(self)
      â”œâ”€â”€ def _on_imu(self, imu)
      â””â”€â”€ def _on_ultra(self, ultra)

ğŸ“„ robot_host/telemetry/host_module.py
   ğŸ§± class TelemetryHostModule
      â”œâ”€â”€ def __init__(self, bus, source_topic)
      â”œâ”€â”€ def latest(self)
      â””â”€â”€ def _on_raw(self, msg)

ğŸ“„ robot_host/telemetry/models.py
   ğŸ§± class ImuTelemetry
      (no methods)
   ğŸ§± class UltrasonicTelemetry
      (no methods)
   ğŸ§± class LidarTelemetry
      (no methods)
   ğŸ§± class EncoderTelemetry
      (no methods)
   ğŸ§± class StepperTelemetry
      (no methods)
   ğŸ§± class DcMotorTelemetry
      (no methods)
   ğŸ§± class TelemetryPacket
      (no methods)

ğŸ“„ robot_host/telemetry/parser.py
   âš™ï¸  def _float_or_none(self, v)
   âš™ï¸  def _int_or_none(self, v)
   âš™ï¸  def parse_telemetry(self, msg)

ğŸ“„ robot_host/tools/build_world.py
   âš™ï¸  def main()

ğŸ“„ robot_host/tools/gen_commands.py
   âš™ï¸  def validate_commands(self, cmds)
   âš™ï¸  def generate_json(self, commands)
   âš™ï¸  def generate_cpp_header(self, commands)
   âš™ï¸  def generate_py_module(self, commands)
   âš™ï¸  def python_type_for(self, field)
   âš™ï¸  def write_python_client_mixin(self, commands)
   âš™ï¸  def main()

ğŸ“„ robot_host/tools/generate_pins.py
   âš™ï¸  def generate_cpp(self, pins)
   âš™ï¸  def generate_py(self, pins)
   âš™ï¸  def main()

ğŸ“„ robot_host/tools/gpio_mapping_gen.py
   âš™ï¸  def generate_json(self, channels)
   âš™ï¸  def generate_cpp_header(self, channels)
   âš™ï¸  def generate_py_module(self, channels)
   âš™ï¸  def main()

ğŸ“„ robot_host/tools/imu_calibrator.py
   ğŸ§± class ImuCalibrator
      â”œâ”€â”€ def __init__(self, client, samples_needed)
      â””â”€â”€ def _on_imu(self, imu)

ğŸ“„ robot_host/tools/platform_schema.py
   âš™ï¸  def _load_pins(self, path)
   âš™ï¸  def validate_schema()

ğŸ“„ robot_host/transports/base_transport.py
   ğŸ§± class BaseTransport
      â”œâ”€â”€ def __init__(self)
      â”œâ”€â”€ def set_frame_handler(self, handler)
      â”œâ”€â”€ def _handle_body(self, body)
      â”œâ”€â”€ def send_frame(self, msg_type, payload)
      â”œâ”€â”€ def start(self)
      â”œâ”€â”€ def stop(self)
      â””â”€â”€ def _send_bytes(self, data)

ğŸ“„ robot_host/transports/bluetooth_transport.py
   ğŸ§± class BluetoothSerialTransport
      â”œâ”€â”€ def __init__(self, port, baudrate)
      â””â”€â”€ def auto(self, cls, device_name, baudrate)

ğŸ“„ robot_host/transports/serial_transport.py
   ğŸ§± class SerialTransport
      â”œâ”€â”€ def __init__(self, port, baudrate)
      â”œâ”€â”€ def _open(self)
      â”œâ”€â”€ def _close(self)
      â”œâ”€â”€ def _read_raw(self, n)
      â””â”€â”€ def _send_bytes(self, data)

ğŸ“„ robot_host/transports/stream_transport.py
   ğŸ§± class StreamTransport
      â”œâ”€â”€ def __init__(self)
      â”œâ”€â”€ def _open(self)
      â”œâ”€â”€ def _close(self)
      â”œâ”€â”€ def _read_raw(self, n)
      â”œâ”€â”€ def _send_bytes(self, data)
      â”œâ”€â”€ def start(self)
      â”œâ”€â”€ def stop(self)
      â””â”€â”€ def _reader_loop(self)

ğŸ“„ robot_host/transports/tcp_transport.py
   ğŸ§± class AsyncTcpTransport
      â”œâ”€â”€ def __init__(self, host, port, reconnect_delay)
      â””â”€â”€ def set_frame_handler(self, handler)

ğŸ“„ structure.py
   âš™ï¸  def load_gitignore(self, project_root)
   âš™ï¸  def attach_parents(self, tree)
   âš™ï¸  def extract_defs_from_file(self, filepath)
   âš™ï¸  def should_ignore_path(self, rel_path)
   âš™ï¸  def scan_directory(self, base_path, respect_gitignore)
   âš™ï¸  def format_args(self, args)
   âš™ï¸  def print_structure(self, structure, output_file, show_line_numbers)
   âš™ï¸  def generate_tree_view(self, structure)
   âš™ï¸  def main()

================================================================================
ğŸ“Š STATISTICS
================================================================================
Total Classes:    62
Total Functions:  107
Total Methods:    130
================================================================================